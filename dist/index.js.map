{"version":3,"file":"index.js","sources":["../src/utils/sameURL.ts","../src/utils/getAnchorProperty.ts","../src/appDir.tsx","../src/pagesDir.tsx"],"sourcesContent":["export function isSameURL(target: URL, current: URL) {\n  const cleanTarget =\n    target.protocol + '//' + target.host + target.pathname + target.search;\n  const cleanCurrent =\n    current.protocol + '//' + current.host + current.pathname + current.search;\n\n  return cleanTarget === cleanCurrent;\n}\n\nexport function isSameURLWithoutSearch(target: URL, current: URL) {\n  const cleanTarget = target.protocol + '//' + target.host + target.pathname;\n  const cleanCurrent =\n    current.protocol + '//' + current.host + current.pathname;\n\n  return cleanTarget === cleanCurrent;\n}\n","function parsePath(path: string) {\n  const hashIndex = path.indexOf('#');\n  const queryIndex = path.indexOf('?');\n  const hasQuery = queryIndex > -1 && (hashIndex < 0 || queryIndex < hashIndex);\n\n  if (hasQuery || hashIndex > -1) {\n    return {\n      pathname: path.substring(0, hasQuery ? queryIndex : hashIndex),\n      query: hasQuery\n        ? path.substring(queryIndex, hashIndex > -1 ? hashIndex : undefined)\n        : '',\n      hash: hashIndex > -1 ? path.slice(hashIndex) : '',\n    };\n  }\n\n  return { pathname: path, query: '', hash: '' };\n}\n\nfunction addPathPrefix(path: string, prefix?: string) {\n  if (!path.startsWith('/') || !prefix) {\n    return path;\n  }\n\n  const { pathname, query, hash } = parsePath(path);\n  return `${prefix}${pathname}${query}${hash}`;\n}\n\nexport function getAnchorProperty<\n  T extends HTMLAnchorElement | SVGAElement,\n  K extends keyof T,\n  P extends T[K],\n>(a: T, key: K): P extends SVGAnimatedString ? string : P {\n  if (typeof key === 'string' && key === 'data-disable-nprogress') {\n    const dataKey = key.substring(5) as keyof DOMStringMap;\n    return a.dataset[dataKey] as any;\n  }\n\n  const prop = a[key];\n\n  if (prop instanceof SVGAnimatedString) {\n    const value = prop.baseVal as unknown;\n\n    if (key === 'href') {\n      return addPathPrefix(value as string, location.origin) as any;\n    }\n\n    return value as any;\n  }\n\n  return prop as any;\n}\n","import React, { Suspense, useCallback, useEffect, useMemo } from 'react';\nimport NProgress from 'nprogress';\nimport { isSameURL, isSameURLWithoutSearch } from './utils/sameURL';\nimport {\n  usePathname,\n  useSearchParams,\n  useRouter as useNextRouter,\n} from 'next/navigation';\nimport { ProgressBarProps } from '.';\nimport { NavigateOptions } from 'next/dist/shared/lib/app-router-context';\nimport { getAnchorProperty } from './utils/getAnchorProperty';\n\ntype PushStateInput = [\n  data: any,\n  unused: string,\n  url?: string | URL | null | undefined,\n];\n\nconst AppProgressBarComponent = React.memo(\n  ({\n    color = '#0A2FFF',\n    height = '2px',\n    options,\n    shallowRouting = false,\n    delay = 0,\n    style,\n    targetPreprocessor,\n  }: ProgressBarProps) => {\n    const styles = (\n      <style>\n        {style ||\n          `\n          #nprogress {\n            pointer-events: none;\n          }\n\n          #nprogress .bar {\n            background: ${color};\n\n            position: fixed;\n            z-index: 1031;\n            top: 0;\n            left: 0;\n\n            width: 100%;\n            height: ${height};\n          }\n\n          /* Fancy blur effect */\n          #nprogress .peg {\n            display: block;\n            position: absolute;\n            right: 0px;\n            width: 100px;\n            height: 100%;\n            box-shadow: 0 0 10px ${color}, 0 0 5px ${color};\n            opacity: 1.0;\n\n            -webkit-transform: rotate(3deg) translate(0px, -4px);\n                -ms-transform: rotate(3deg) translate(0px, -4px);\n                    transform: rotate(3deg) translate(0px, -4px);\n          }\n\n          /* Remove these to get rid of the spinner */\n          #nprogress .spinner {\n            display: block;\n            position: fixed;\n            z-index: 1031;\n            top: 15px;\n            right: 15px;\n          }\n\n          #nprogress .spinner-icon {\n            width: 18px;\n            height: 18px;\n            box-sizing: border-box;\n\n            border: solid 2px transparent;\n            border-top-color: ${color};\n            border-left-color: ${color};\n            border-radius: 50%;\n\n            -webkit-animation: nprogress-spinner 400ms linear infinite;\n                    animation: nprogress-spinner 400ms linear infinite;\n          }\n\n          .nprogress-custom-parent {\n            overflow: hidden;\n            position: relative;\n          }\n\n          .nprogress-custom-parent #nprogress .spinner,\n          .nprogress-custom-parent #nprogress .bar {\n            position: absolute;\n          }\n\n          @-webkit-keyframes nprogress-spinner {\n            0%   { -webkit-transform: rotate(0deg); }\n            100% { -webkit-transform: rotate(360deg); }\n          }\n          @keyframes nprogress-spinner {\n            0%   { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        `}\n      </style>\n    );\n\n    NProgress.configure(options || {});\n\n    const pathname = usePathname();\n    const searchParams = useSearchParams();\n\n    useEffect(() => {\n      NProgress.done();\n    }, [pathname, searchParams]);\n\n    useEffect(() => {\n      let timer: NodeJS.Timeout;\n\n      const startProgress = () => {\n        timer = setTimeout(NProgress.start, delay);\n      };\n\n      const stopProgress = () => {\n        clearTimeout(timer);\n        NProgress.done();\n      };\n\n      const handleAnchorClick = (event: MouseEvent) => {\n        const anchorElement = event.currentTarget as\n          | HTMLAnchorElement\n          | SVGAElement;\n\n        // Skip anchors with target=\"_blank\"\n        if (getAnchorProperty(anchorElement, 'target') === '_blank') return;\n\n        // Skip control/command+click\n        if (event.metaKey || event.ctrlKey) return;\n\n        const targetHref = getAnchorProperty(anchorElement, 'href');\n        const targetUrl = targetPreprocessor\n          ? targetPreprocessor(new URL(targetHref))\n          : new URL(targetHref);\n        const currentUrl = new URL(location.href);\n\n        if (shallowRouting && isSameURLWithoutSearch(targetUrl, currentUrl))\n          return;\n        if (targetUrl?.href === currentUrl?.href) return;\n\n        startProgress();\n      };\n\n      const handleMutation: MutationCallback = () => {\n        const anchorElements = Array.from(document.querySelectorAll('a')) as (\n          | HTMLAnchorElement\n          | SVGAElement\n        )[];\n\n        const validAnchorElements = anchorElements.filter((anchor) => {\n          const href = getAnchorProperty(anchor, 'href');\n          const isNProgressDisabled =\n            anchor.getAttribute('data-disable-nprogress') === 'true';\n          const isNotTelOrMailto =\n            href && !href.startsWith('tel:') && !href.startsWith('mailto:');\n\n          return (\n            !isNProgressDisabled &&\n            isNotTelOrMailto &&\n            getAnchorProperty(anchor, 'target') !== '_blank'\n          );\n        });\n\n        validAnchorElements.forEach((anchor) => {\n          anchor.addEventListener('click', handleAnchorClick);\n        });\n      };\n\n      const mutationObserver = new MutationObserver(handleMutation);\n      mutationObserver.observe(document, { childList: true, subtree: true });\n\n      window.history.pushState = new Proxy(window.history.pushState, {\n        apply: (target, thisArg, argArray: PushStateInput) => {\n          stopProgress();\n          return target.apply(thisArg, argArray);\n        },\n      });\n    }, []);\n\n    return styles;\n  },\n  (prevProps, nextProps) => {\n    if (!nextProps.shouldCompareComplexProps) {\n      return true;\n    }\n\n    return (\n      prevProps.color === nextProps.color &&\n      prevProps.height === nextProps.height &&\n      prevProps.shallowRouting === nextProps.shallowRouting &&\n      prevProps.delay === nextProps.delay &&\n      JSON.stringify(prevProps.options) === JSON.stringify(nextProps.options) &&\n      prevProps.style === nextProps.style\n    );\n  },\n);\n\nexport const AppProgressBar = (props: ProgressBarProps) => (\n  <Suspense fallback={<></>}>\n    <AppProgressBarComponent {...props} />\n  </Suspense>\n);\n\nexport function useRouter() {\n  const router = useNextRouter();\n\n  const startProgress = useCallback(\n    (\n      href: string,\n      options?: NavigateOptions,\n      NProgressOptions?: { showProgressBar?: boolean },\n    ) => {\n      if (NProgressOptions?.showProgressBar === false)\n        return router.push(href, options);\n\n      const currentUrl = new URL(location.href);\n      const targetUrl = new URL(href, location.href);\n\n      if (isSameURL(targetUrl, currentUrl)) return router.push(href, options);\n\n      NProgress.start();\n    },\n    [router],\n  );\n\n  const push = useCallback(\n    (\n      href: string,\n      options?: NavigateOptions,\n      NProgressOptions?: { showProgressBar?: boolean },\n    ) => {\n      startProgress(href, options, NProgressOptions);\n      return router.push(href, options);\n    },\n    [router, startProgress],\n  );\n\n  const replace = useCallback(\n    (\n      href: string,\n      options?: NavigateOptions,\n      NProgressOptions?: { showProgressBar?: boolean },\n    ) => {\n      startProgress(href, options, NProgressOptions);\n      return router.replace(href, options);\n    },\n    [router, startProgress],\n  );\n\n  const back = useCallback(\n    (NProgressOptions?: { showProgressBar?: boolean }) => {\n      if (NProgressOptions?.showProgressBar === false) return router.back();\n\n      NProgress.start();\n\n      return router.back();\n    },\n    [router],\n  );\n\n  const enhancedRouter = useMemo(() => {\n    return { ...router, push, replace, back };\n  }, [router, push, replace, back]);\n\n  return enhancedRouter;\n}\n","import React, { useEffect } from 'react';\nimport NProgress from 'nprogress';\nimport { isSameURL } from './utils/sameURL';\nimport Router from 'next/router';\nimport { ProgressBarProps } from '.';\n\nexport const PagesProgressBar = React.memo(\n  ({\n    color = '#0A2FFF',\n    height = '2px',\n    options,\n    shallowRouting = false,\n    delay = 0,\n    style,\n  }: Omit<\n    ProgressBarProps,\n    'shouldCompareComplexProps' | 'targetPreprocessor'\n  >) => {\n    const styles = (\n      <style>\n        {style ||\n          `\n          #nprogress {\n            pointer-events: none;\n          }\n          \n          #nprogress .bar {\n            background: ${color};\n          \n            position: fixed;\n            z-index: 1031;\n            top: 0;\n            left: 0;\n          \n            width: 100%;\n            height: ${height};\n          }\n          \n          /* Fancy blur effect */\n          #nprogress .peg {\n            display: block;\n            position: absolute;\n            right: 0px;\n            width: 100px;\n            height: 100%;\n            box-shadow: 0 0 10px ${color}, 0 0 5px ${color};\n            opacity: 1.0;\n          \n            -webkit-transform: rotate(3deg) translate(0px, -4px);\n                -ms-transform: rotate(3deg) translate(0px, -4px);\n                    transform: rotate(3deg) translate(0px, -4px);\n          }\n          \n          /* Remove these to get rid of the spinner */\n          #nprogress .spinner {\n            display: block;\n            position: fixed;\n            z-index: 1031;\n            top: 15px;\n            right: 15px;\n          }\n          \n          #nprogress .spinner-icon {\n            width: 18px;\n            height: 18px;\n            box-sizing: border-box;\n          \n            border: solid 2px transparent;\n            border-top-color: ${color};\n            border-left-color: ${color};\n            border-radius: 50%;\n          \n            -webkit-animation: nprogress-spinner 400ms linear infinite;\n                    animation: nprogress-spinner 400ms linear infinite;\n          }\n          \n          .nprogress-custom-parent {\n            overflow: hidden;\n            position: relative;\n          }\n          \n          .nprogress-custom-parent #nprogress .spinner,\n          .nprogress-custom-parent #nprogress .bar {\n            position: absolute;\n          }\n          \n          @-webkit-keyframes nprogress-spinner {\n            0%   { -webkit-transform: rotate(0deg); }\n            100% { -webkit-transform: rotate(360deg); }\n          }\n          @keyframes nprogress-spinner {\n            0%   { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        `}\n      </style>\n    );\n\n    NProgress.configure(options || {});\n\n    useEffect(() => {\n      let timer: NodeJS.Timeout;\n\n      const startProgress = () => {\n        timer = setTimeout(NProgress.start, delay);\n      };\n\n      const stopProgress = () => {\n        clearTimeout(timer);\n        NProgress.done();\n      };\n\n      const handleRouteStart = (url: string) => {\n        const targetUrl = new URL(url, location.href);\n        const currentUrl = new URL(Router.route, location.href);\n\n        if (!shallowRouting || !isSameURL(targetUrl, currentUrl)) {\n          startProgress();\n        }\n      };\n      const handleRouteDone = () => stopProgress();\n\n      Router.events.on('routeChangeStart', handleRouteStart);\n      Router.events.on('routeChangeComplete', handleRouteDone);\n      Router.events.on('routeChangeError', handleRouteDone);\n\n      return () => {\n        // Make sure to remove the event handler on unmount!\n        Router.events.off('routeChangeStart', handleRouteStart);\n        Router.events.off('routeChangeComplete', handleRouteDone);\n        Router.events.off('routeChangeError', handleRouteDone);\n      };\n    }, []);\n\n    return styles;\n  },\n  () => true,\n);\n"],"names":["usePathname","useSearchParams","useEffect","Suspense","useNextRouter","useCallback","useMemo"],"mappings":"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"}